language: python

matrix:
    include:
        - os: linux
          sudo: required
          python: "2.7"
          before_install:
              # install Python 2.7.6
              - wget https://s3.amazonaws.com/travis-python-archives/binaries/ubuntu/14.04/x86_64/python-2.7.6.tar.bz2
              - sudo tar xjf python-2.7.6.tar.bz2 --directory /
              # fix InsecurePlatformWarning (possible only in pip 8.x)
              - sudo pip install 'pip<9.0'
              - sudo pip install pyopenssl ndg-httpsclient pyasn1

install:
    - pip install -r tests/requirements.txt --extra-index-url https://pypi.dwavesys.com/simple
    - pip install .

script:
    - coverage run -m unittest discover

after_success:
    - coveralls

